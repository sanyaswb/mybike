{"mappings":"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","sources":["<anon>","src/scripts/smart-loader.js","src/scripts/image-map.js","node_modules/@parcel/runtime-js/lib/runtime-0877633ace63695b.js","node_modules/@parcel/runtime-js/lib/runtime-d5c1d447032594f7.js","node_modules/@parcel/runtime-js/lib/runtime-c44d970948065cda.js","node_modules/@parcel/runtime-js/lib/runtime-2c7c0d917693cc9e.js","node_modules/@parcel/runtime-js/lib/runtime-79f46b1e1cb2c77f.js","node_modules/@parcel/runtime-js/lib/runtime-978b6204e79c8553.js","node_modules/@parcel/runtime-js/lib/runtime-bfbed338a088be85.js","node_modules/@parcel/runtime-js/lib/runtime-503cd139a49d7157.js","node_modules/@parcel/runtime-js/lib/runtime-dd3c85bba1b2ccef.js","node_modules/@parcel/runtime-js/lib/runtime-a9a4e407fae8b81e.js","node_modules/@parcel/runtime-js/lib/runtime-5681f100c03c76c2.js","node_modules/@parcel/runtime-js/lib/runtime-5319d6e7d3d6a7b8.js","node_modules/@parcel/runtime-js/lib/runtime-4416ac0dca9a51a5.js","node_modules/@parcel/runtime-js/lib/runtime-edc1500a6a9f0003.js","node_modules/@parcel/runtime-js/lib/runtime-b4605664eb740082.js","node_modules/@parcel/runtime-js/lib/runtime-fd69970a87056b94.js","node_modules/@parcel/runtime-js/lib/runtime-79eaad2005d0e393.js","node_modules/@parcel/runtime-js/lib/runtime-e6750eeb83c38bd2.js","node_modules/@parcel/runtime-js/lib/runtime-261a00bf0d1d1822.js","node_modules/@parcel/runtime-js/lib/runtime-1feea19b7200ba53.js","node_modules/@parcel/runtime-js/lib/runtime-e528d5a2298aae37.js","node_modules/@parcel/runtime-js/lib/runtime-40623d94f83a7e49.js"],"sourcesContent":["\"use strict\";\nvar $40167d9988a6f9ad$exports = {};\n$40167d9988a6f9ad$exports = import.meta.resolve(\"eEnWj\");\n\n\nvar $a98ff4eb08aae413$exports = {};\n$a98ff4eb08aae413$exports = import.meta.resolve(\"lrjbP\");\n\n\nvar $db454b61bfbdf022$exports = {};\n$db454b61bfbdf022$exports = import.meta.resolve(\"hGeet\");\n\n\nvar $7f74a2fd6b3cfb60$exports = {};\n$7f74a2fd6b3cfb60$exports = import.meta.resolve(\"gD13z\");\n\n\nvar $ccae47ee41bf527f$exports = {};\n$ccae47ee41bf527f$exports = import.meta.resolve(\"7sj1F\");\n\n\nvar $2a9bee9531eef998$exports = {};\n$2a9bee9531eef998$exports = import.meta.resolve(\"3xEQC\");\n\n\nvar $ab88e97ae53bfb2f$exports = {};\n$ab88e97ae53bfb2f$exports = import.meta.resolve(\"drfaY\");\n\n\nvar $13b29c1af0f907ba$exports = {};\n$13b29c1af0f907ba$exports = import.meta.resolve(\"2sXxm\");\n\n\nvar $a38f73bf5a607268$exports = {};\n$a38f73bf5a607268$exports = import.meta.resolve(\"fi6lm\");\n\n\nvar $bd41b025c167f13c$exports = {};\n$bd41b025c167f13c$exports = import.meta.resolve(\"i3f0M\");\n\n\nvar $2e95a8a3efe0db8d$exports = {};\n$2e95a8a3efe0db8d$exports = import.meta.resolve(\"fgeSo\");\n\n\nvar $a716a4cbbe33952b$exports = {};\n$a716a4cbbe33952b$exports = import.meta.resolve(\"gEPZQ\");\n\n\nvar $57aa782bd7316251$exports = {};\n$57aa782bd7316251$exports = import.meta.resolve(\"dira1\");\n\n\nvar $646e178188ce2b8e$exports = {};\n$646e178188ce2b8e$exports = import.meta.resolve(\"3DCco\");\n\n\nvar $d0f918df8807d325$exports = {};\n$d0f918df8807d325$exports = import.meta.resolve(\"1rYDt\");\n\n\nvar $e3ba5dfcb22a8a54$exports = {};\n$e3ba5dfcb22a8a54$exports = import.meta.resolve(\"jXsnY\");\n\n\nvar $5f44d732c3c78bfc$exports = {};\n$5f44d732c3c78bfc$exports = import.meta.resolve(\"RuPc1\");\n\n\nvar $221833e1eb2151a0$exports = {};\n$221833e1eb2151a0$exports = import.meta.resolve(\"1yPDf\");\n\n\nvar $9b9746bedf941c99$exports = {};\n$9b9746bedf941c99$exports = import.meta.resolve(\"hUFe3\");\n\n\nvar $a7b9095dfde24069$exports = {};\n$a7b9095dfde24069$exports = import.meta.resolve(\"aRDVy\");\n\n\nvar $17fa865169908242$exports = {};\n$17fa865169908242$exports = import.meta.resolve(\"4TFGF\");\n\n\nvar $960f8ec2232c6372$exports = {};\n$960f8ec2232c6372$exports = import.meta.resolve(\"5bVuQ\");\n\n\nconst $71dfd4befcd99288$export$da9fabaf9097127b = {\n    \"header_bk-fhd\": new URL($40167d9988a6f9ad$exports),\n    \"header_bike-fhd-1\": new URL($a98ff4eb08aae413$exports),\n    \"header_bike-fhd-2\": new URL($db454b61bfbdf022$exports),\n    \"header_bike-fhd-3\": new URL($7f74a2fd6b3cfb60$exports),\n    \"header_bike-fhd-4\": new URL($ccae47ee41bf527f$exports),\n    bike_1: new URL($2a9bee9531eef998$exports),\n    bike_2: new URL($ab88e97ae53bfb2f$exports),\n    bike_3: new URL($13b29c1af0f907ba$exports),\n    bike_4: new URL($a38f73bf5a607268$exports),\n    \"bike_4-1\": new URL($bd41b025c167f13c$exports),\n    \"bike_4-2\": new URL($2e95a8a3efe0db8d$exports),\n    \"bike_4-3\": new URL($a716a4cbbe33952b$exports),\n    \"bike_4-4\": new URL($57aa782bd7316251$exports),\n    \"bike_4-5\": new URL($646e178188ce2b8e$exports),\n    \"bike_4-6\": new URL($d0f918df8807d325$exports),\n    \"details-bike_4-1\": new URL($e3ba5dfcb22a8a54$exports),\n    \"details-bike_4-2\": new URL($5f44d732c3c78bfc$exports),\n    \"details-bike_4-3\": new URL($221833e1eb2151a0$exports),\n    \"details-bike_4-4\": new URL($9b9746bedf941c99$exports),\n    \"details-bike_4-5\": new URL($a7b9095dfde24069$exports),\n    \"details-bike_4-6\": new URL($17fa865169908242$exports),\n    footer: new URL($960f8ec2232c6372$exports)\n};\n\n\nclass $0f46414d4350ea9f$var$SmartLoader {\n    constructor(){\n        this.imagesToLoad = [];\n    }\n    findImages() {\n        document.querySelectorAll(\"[data-image-id]\").forEach((element)=>{\n            const id = element.dataset.imageId;\n            const highSrc = (0, $71dfd4befcd99288$export$da9fabaf9097127b)[id];\n            if (highSrc) {\n                const type = element.tagName === \"IMG\" ? \"img\" : \"bg\";\n                this.imagesToLoad.push({\n                    element: element,\n                    highSrc: highSrc,\n                    type: type\n                });\n            }\n        });\n    }\n    preloadImage(src) {\n        return new Promise((resolve, reject)=>{\n            const img = new Image();\n            img.src = src;\n            img.decode().then(()=>resolve(src)).catch(()=>reject(new Error(`download error: ${src}`)));\n        });\n    }\n    async preloadAll() {\n        const promises = this.imagesToLoad.map((item)=>this.preloadImage(item.highSrc));\n        try {\n            await Promise.all(promises);\n            return true;\n        } catch (error) {\n            console.error(\"SmartLoader: error download images\", error);\n            return false;\n        }\n    }\n    swapImages() {\n        this.imagesToLoad.forEach((item)=>{\n            if (item.type === \"img\") item.element.src = item.highSrc;\n            else if (item.type === \"bg\") item.element.style.backgroundImage = `url(${item.highSrc})`;\n            item.element.classList.add(\"smart-loaded\");\n        });\n    }\n    async run() {\n        this.findImages();\n        if (this.imagesToLoad.length === 0) {\n            console.log(\"SmartLoader: dont find images with data-atribut\");\n            return;\n        }\n        const successful = await this.preloadAll();\n        if (successful) this.swapImages();\n        else console.warn(\"SmartLoader: change images error download\");\n    }\n}\nconst $0f46414d4350ea9f$var$loader = new $0f46414d4350ea9f$var$SmartLoader();\n$0f46414d4350ea9f$var$loader.run();\n\n\n//# sourceMappingURL=mybike.6007819a.js.map\n","import { highResImages } from \"./image-map.js\";\r\n\r\nclass SmartLoader {\r\n  constructor() {\r\n    this.imagesToLoad = [];\r\n  }\r\n\r\n  findImages() {\r\n    document.querySelectorAll(\"[data-image-id]\").forEach((element) => {\r\n      const id = element.dataset.imageId;\r\n      const highSrc = highResImages[id];\r\n\r\n      if (highSrc) {\r\n        const type = element.tagName === \"IMG\" ? \"img\" : \"bg\";\r\n\r\n        this.imagesToLoad.push({\r\n          element: element,\r\n          highSrc: highSrc,\r\n          type: type,\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  preloadImage(src) {\r\n    return new Promise((resolve, reject) => {\r\n      const img = new Image();\r\n      img.src = src;\r\n      img\r\n        .decode()\r\n        .then(() => resolve(src))\r\n        .catch(() => reject(new Error(`download error: ${src}`)));\r\n    });\r\n  }\r\n\r\n  async preloadAll() {\r\n    const promises = this.imagesToLoad.map((item) =>\r\n      this.preloadImage(item.highSrc)\r\n    );\r\n\r\n    try {\r\n      await Promise.all(promises);\r\n      return true;\r\n    } catch (error) {\r\n      console.error(\"SmartLoader: error download images\", error);\r\n      return false;\r\n    }\r\n  }\r\n\r\n  swapImages() {\r\n    this.imagesToLoad.forEach((item) => {\r\n      if (item.type === \"img\") {\r\n        item.element.src = item.highSrc;\r\n      } else if (item.type === \"bg\") {\r\n        item.element.style.backgroundImage = `url(${item.highSrc})`;\r\n      }\r\n      item.element.classList.add(\"smart-loaded\");\r\n    });\r\n  }\r\n\r\n  async run() {\r\n    this.findImages();\r\n\r\n    if (this.imagesToLoad.length === 0) {\r\n      console.log(\"SmartLoader: dont find images with data-atribut\");\r\n      return;\r\n    }\r\n\r\n    const successful = await this.preloadAll();\r\n\r\n    if (successful) {\r\n      this.swapImages();\r\n    } else {\r\n      console.warn(\"SmartLoader: change images error download\");\r\n    }\r\n  }\r\n}\r\n\r\nconst loader = new SmartLoader();\r\nloader.run();\r\n","\"use strict\";\n\n// It maps image IDs to their high-resolution paths for Parcel.\n\nexport const highResImages = {\n  \"header_bk-fhd\": new URL(\n    \"../../images/backgrounds/header_bk-fhd.webp\",\n    import.meta.url\n  ),\n  \"header_bike-fhd-1\": new URL(\n    \"../../images/backgrounds/header_bike-fhd-1.webp\",\n    import.meta.url\n  ),\n  \"header_bike-fhd-2\": new URL(\n    \"../../images/backgrounds/header_bike-fhd-2.webp\",\n    import.meta.url\n  ),\n  \"header_bike-fhd-3\": new URL(\n    \"../../images/backgrounds/header_bike-fhd-3.webp\",\n    import.meta.url\n  ),\n  \"header_bike-fhd-4\": new URL(\n    \"../../images/backgrounds/header_bike-fhd-4.webp\",\n    import.meta.url\n  ),\n  bike_1: new URL(\"../../images/bikes/bike_1.webp\", import.meta.url),\n  bike_2: new URL(\"../../images/bikes/bike_2.webp\", import.meta.url),\n  bike_3: new URL(\"../../images/bikes/bike_3.webp\", import.meta.url),\n  bike_4: new URL(\"../../images/bikes/bike_4.webp\", import.meta.url),\n  \"bike_4-1\": new URL(\"../../images/bikes/bike_4-1.webp\", import.meta.url),\n  \"bike_4-2\": new URL(\"../../images/bikes/bike_4-2.webp\", import.meta.url),\n  \"bike_4-3\": new URL(\"../../images/bikes/bike_4-3.webp\", import.meta.url),\n  \"bike_4-4\": new URL(\"../../images/bikes/bike_4-4.webp\", import.meta.url),\n  \"bike_4-5\": new URL(\"../../images/bikes/bike_4-5.webp\", import.meta.url),\n  \"bike_4-6\": new URL(\"../../images/bikes/bike_4-6.webp\", import.meta.url),\n  \"details-bike_4-1\": new URL(\n    \"../../images/bikes/details-bike_4-1.webp\",\n    import.meta.url\n  ),\n  \"details-bike_4-2\": new URL(\n    \"../../images/bikes/details-bike_4-2.webp\",\n    import.meta.url\n  ),\n  \"details-bike_4-3\": new URL(\n    \"../../images/bikes/details-bike_4-3.webp\",\n    import.meta.url\n  ),\n  \"details-bike_4-4\": new URL(\n    \"../../images/bikes/details-bike_4-4.webp\",\n    import.meta.url\n  ),\n  \"details-bike_4-5\": new URL(\n    \"../../images/bikes/details-bike_4-5.webp\",\n    import.meta.url\n  ),\n  \"details-bike_4-6\": new URL(\n    \"../../images/bikes/details-bike_4-6.webp\",\n    import.meta.url\n  ),\n  footer: new URL(\"../../images/footer.webp\", import.meta.url),\n};\n","module.exports = __parcel__import__.meta.resolve(\"eEnWj\");","module.exports = __parcel__import__.meta.resolve(\"lrjbP\");","module.exports = __parcel__import__.meta.resolve(\"hGeet\");","module.exports = __parcel__import__.meta.resolve(\"gD13z\");","module.exports = __parcel__import__.meta.resolve(\"7sj1F\");","module.exports = __parcel__import__.meta.resolve(\"3xEQC\");","module.exports = __parcel__import__.meta.resolve(\"drfaY\");","module.exports = __parcel__import__.meta.resolve(\"2sXxm\");","module.exports = __parcel__import__.meta.resolve(\"fi6lm\");","module.exports = __parcel__import__.meta.resolve(\"i3f0M\");","module.exports = __parcel__import__.meta.resolve(\"fgeSo\");","module.exports = __parcel__import__.meta.resolve(\"gEPZQ\");","module.exports = __parcel__import__.meta.resolve(\"dira1\");","module.exports = __parcel__import__.meta.resolve(\"3DCco\");","module.exports = __parcel__import__.meta.resolve(\"1rYDt\");","module.exports = __parcel__import__.meta.resolve(\"jXsnY\");","module.exports = __parcel__import__.meta.resolve(\"RuPc1\");","module.exports = __parcel__import__.meta.resolve(\"1yPDf\");","module.exports = __parcel__import__.meta.resolve(\"hUFe3\");","module.exports = __parcel__import__.meta.resolve(\"aRDVy\");","module.exports = __parcel__import__.meta.resolve(\"4TFGF\");","module.exports = __parcel__import__.meta.resolve(\"5bVuQ\");"],"names":["$40167d9988a6f9ad$exports","resolve","$a98ff4eb08aae413$exports","$db454b61bfbdf022$exports","$7f74a2fd6b3cfb60$exports","$ccae47ee41bf527f$exports","$2a9bee9531eef998$exports","$ab88e97ae53bfb2f$exports","$13b29c1af0f907ba$exports","$a38f73bf5a607268$exports","$bd41b025c167f13c$exports","$2e95a8a3efe0db8d$exports","$a716a4cbbe33952b$exports","$57aa782bd7316251$exports","$646e178188ce2b8e$exports","$d0f918df8807d325$exports","$e3ba5dfcb22a8a54$exports","$5f44d732c3c78bfc$exports","$221833e1eb2151a0$exports","$9b9746bedf941c99$exports","$a7b9095dfde24069$exports","$17fa865169908242$exports","$960f8ec2232c6372$exports","$71dfd4befcd99288$export$da9fabaf9097127b","URL","bike_1","bike_2","bike_3","bike_4","footer","$0f46414d4350ea9f$var$loader","imagesToLoad","findImages","document","querySelectorAll","forEach","element","highSrc","dataset","imageId","type","tagName","push","preloadImage","src","Promise","reject","img","Image","decode","then","catch","Error","preloadAll","promises","map","item","all","error","console","swapImages","style","backgroundImage","classList","add","run","length","log","warn"],"version":3,"file":"mybike.6007819a.js.map"}